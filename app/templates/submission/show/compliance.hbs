<h2>Compliance</h2>

{{#workflow-group name="compliance" workflow=(workflow-for model "compliance") as |group|}} 
    {{#workflow-card step="select-compliance" group=group
        continue=(action (queue
            (action "saveAll")
        ))}}

        <!-- Yes, "getPolicies" returns repos ... repos in which deposit will 
             result in compliance.  This is due to a lack of a policy object in the
             model.  -->
        {{#each (value-of (action "getPolicies")) as |repo|}}
            {{compliance-}}
            {{#if (eq "PMC" repo)}}
                {{policy-compliance-nih submission=model register=(action "addDeposit")}}
            {{/if}}

            {{#if (eq "NSF-PAR" repo)}}
                {{policy-compliance-nsf submission=model register=(action "addDeposit")}}
            {{/if}}

            {{#if (eq "DOE-PAGES" repo)}}
                {{policy-compliance-doe submission=model register=(action "addDeposit")}}
            {{/if}}

        {{/each}}

    {{/workflow-card}} 

{{/workflow-group}}
{{outlet}}